<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PsicoChart - Gerador de Gráficos Neuropsicológicos</title>

     <!-- Ícone do navegador (favicon) -->
   <link rel="icon" type="image/png" href="src/img/logo.png" sizes="32x32" />

    <!-- Bibliotecas externas -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.0.1"></script>

    <!-- CSS local -->
    <link rel="stylesheet" href="style.css" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CLF4Z05YJT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CLF4Z05YJT');
    </script>
    <style>
        .logo-container {
            display: flex;
            justify-content: center;
            width: 100%;
            padding: 20px 0;
        }
        .logo {
            max-width: 200px;
            height: auto;
        }
        header.container {
            text-align: center;
        }
    </style>
</head>
<body>
    <header class="container" role="banner">
        <div class="logo-container">
            <img src="src/img/logo.png" alt="Logo PsicoChart" class="logo">
        </div>
        <h1>Gerador de Gráficos de Testes Neuropsicológicos</h1>
        <p>Clique em uma barra para editar seus dados. Clique no título para editá-lo.</p>

        <!-- Seção PIX -->
        <section class="pix-section" aria-labelledby="pix-title">
            <div class="pix-header">
                <i class="fas fa-heart pix-icon" aria-hidden="true"></i>
                <h3 id="pix-title" class="pix-title">Apoie este projeto gratuito</h3>
            </div>
            <p class="pix-description">
                Se este sistema é útil para você, considere fazer uma doação via PIX para ajudar a mantê-lo disponível.
            </p>
            <div class="pix-key-container">
                <div class="pix-key" id="pix-key" tabindex="0" aria-label="Chave PIX para doação">
                    f528cfe5-ffb5-4623-b364-20cb7f946e96
                </div>
                <button class="copy-pix-btn" id="copy-pix-btn" aria-describedby="pix-instructions" type="button">
                    <i class="fas fa-copy" aria-hidden="true"></i>
                    Copiar Chave
                </button>
            </div>
            <p id="pix-instructions" class="pix-instructions">
                Abra seu app bancário &gt; PIX &gt; Copiar e Colar &gt; Cole a chave acima
            </p>
        </section>
    </header>

    <main class="container main-content-layout" role="main">
        <!-- Painel de Edição -->
        <aside id="edit-panel" class="editor-panel" aria-label="Painel de edição dos dados do gráfico">
            <!-- Dropdown de seleção de gráfico -->
            <section class="graph-selector" aria-label="Seleção do teste">
                <h3>Selecione o Teste</h3>
                <div class="input-group">
                    <label for="test-select">
                        <i class="fas fa-chart-bar" aria-hidden="true"></i>
                        Teste:
                    </label>
                    <select id="test-select" name="test-select">
                        <option value="" disabled selected>Selecione um teste</option>
                        <option value="wisc">WISC-IV</option>
                         <option value="wasi">WASI</option>
                        <option value="ravlt">RAVLT</option>
                        <option value="fdt">FDT</option>
                    </select>
                </div>
            </section>

            <!-- Campo para seleção de idade (aparece só para RAVLT) -->
            <div id="age-group" class="input-group hidden">
                <label for="age-select">
                    <i class="fas fa-user" aria-hidden="true"></i>
                    Idade:
                </label>
                <select id="age-select" name="age-select">
                    <option value="" disabled selected>Selecione a idade</option>
                    <option value="6-8">6 - 8 anos</option>
                    <option value="9-11">9 - 11 anos</option>
                    <option value="12-14">12 - 14 anos</option>
                    <option value="15-17">15 - 17 anos</option>
                    <option value="18-20">18 - 20 anos</option>
                    <option value="21-30">21 - 30 anos</option>
                    <option value="31-40">31 - 40 anos</option>
                    <option value="41-50">41 - 50 anos</option>
                    <option value="51-60">51 - 60 anos</option>
                    <option value="61-70">61 - 70 anos</option>
                    <option value="71-79">71 - 79 anos</option>
                </select>
            </div>

            <h2 id="panel-title">Editar Dados</h2>

            <div id="label-group" class="input-group">
                <label for="edit-label">
                    <i class="fas fa-heading" aria-hidden="true"></i>
                    Título:
                </label>
                <input type="text" id="edit-label" name="edit-label" />
            </div>

            <div id="value-group" class="input-group">
                <label for="edit-value">
                    <i class="fas fa-hashtag" aria-hidden="true"></i>
                    Valor:
                </label>
                <input type="number" id="edit-value" name="edit-value" />
            </div>

            <div id="color-group" class="input-group">
                <label for="edit-color">
                    <i class="fas fa-palette" aria-hidden="true"></i>
                    Cor:
                </label>
                <input type="color" id="edit-color" name="edit-color" />
                <div id="color-preview" class="color-preview" aria-hidden="true"></div>
            </div>

            <div id="options-group" class="options-group" aria-label="Opções do gráfico">
                <h3>
                    <i class="fas fa-sliders-h" aria-hidden="true"></i>
                    Opções do Gráfico
                </h3>
                <div class="input-group">
                    <label for="chart-type">
                        <i class="fas fa-chart-pie" aria-hidden="true"></i>
                        Tipo de Gráfico:
                    </label>
                    <select id="chart-type" name="chart-type">
                        <option value="bar">Barra</option>
                        <option value="line">Linha</option>
                    </select>
                </div>
                <div class="input-group-inline">
                    <div class="input-group">
                        <label for="y-min">
                            <i class="fas fa-arrow-down" aria-hidden="true"></i>
                            Eixo Y (min):
                        </label>
                        <input type="number" id="y-min" name="y-min" />
                    </div>
                    <div class="input-group">
                        <label for="y-max">
                            <i class="fas fa-arrow-up" aria-hidden="true"></i>
                            Eixo Y (max):
                        </label>
                        <input type="number" id="y-max" name="y-max" />
                    </div>
                </div>
                <div class="input-group">
                    <label for="show-datalabels" class="checkbox-label">
                        <input type="checkbox" id="show-datalabels" name="show-datalabels" checked />
                        <i class="fas fa-tag" aria-hidden="true"></i>
                        Mostrar Rótulos de Dados
                    </label>
                </div>
            </div>

            <div class="panel-buttons">
                <button id="save-btn" type="button">
                    <i class="fas fa-save" aria-hidden="true"></i>
                    Salvar Alterações
                </button>
            </div>
        </aside>

        <!-- Painel do Gráfico -->
        <section class="chart-panel" aria-label="Painel do gráfico">
            <canvas id="meuGrafico" role="img" aria-label="Gráfico neuropsicológico"></canvas>
            <div class="chart-actions">
                <button id="export-btn" class="hidden" type="button">
                    <i class="fas fa-download" aria-hidden="true"></i>
                    Exportar Gráfico
                </button>
            </div>
        </section>
    </main>

    <section class="social-section" aria-label="Siga no Instagram" style="text-align:center; margin: 2rem 0;">
    <a href="https://www.instagram.com/psicochart/" target="_blank" rel="noopener" style="text-decoration:none; color:inherit;">
        <i class="fab fa-instagram" style="font-size:2rem; color:#E1306C; vertical-align:middle;"></i>
        <span style="font-size:1.1rem; margin-left:0.5rem;">
            Siga <strong>@PsicoChart</strong> no Instagram para novidades e dicas!
        </span>
    </a>
</section>

    <footer role="contentinfo">
        <p>
            <i class="far fa-copyright" aria-hidden="true"></i>
            2025 - Sistema Gratuito de Geração de Gráficos Neuropsicológicos - PsicoChart
        </p>
    </footer>

    <!-- JavaScript local (módulo) -->
    <script src="src/main.js" type="module"></script>
</body>
</html>